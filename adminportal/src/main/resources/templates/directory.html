<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.w3.org/1000/xhtml">
<head th:replace="common/header :: common-header">
<meta charset="utf-8" />
</head>

<body>
	<div th:replace="common/header :: navbar"></div>

	<main class="container">

	<div class="table-responsive">
		<table id="usersTable"
			class="table table-bordered table-hover table-striped">
			<thead>
				<tr>
					<th></th>					
					<th>Prénom</th>
					<th>Nom</th>
					<th>Categorie</th>
					<th>Type</th>
					<th>Promo</th>
					<th>Ville</th>
					<th>Email</th>
					<th>Téléphone</th>
					<th>Entreprise</th>
					<th>Poste</th>
					<th>Description</th>
					<th>Photo</th>
					<th>Twitter</th>
					<th>Facebook</th>
					<th>Linkedin</th>
					<th>Désactiver</th>
				</tr>
			</thead>
			<tbody>
				<tr data-th-each="user : ${userList}">
				<input hidden="hidden" name="id" th:value="${user.id}"/>
					<td><a th:href="@{/updateUser(id=${user.id})}"><span
							th:text="Modifier"></span></a></td>					
					<td th:text="${user.firstName}"></td>
					<td th:text="${user.lastName}"></td>
					<td th:text="${user.category}"></td>
					<td th:text="${user.type}"></td>
					<td th:text="${user.promo}"></td>
					<td th:text="${user.city}"></td>
					<td th:text="${user.email}"></td>
					<td th:text="${user.phone}"></td>
					<td th:text="${user.organization}"></td>
					<td th:text="${user.job_title}"></td>
					<td th:utext="${#strings.abbreviate(user.description, 50)}"></td>
					<td><img th:if="${user.hasPicture}"
						th:src="@{'/images/user/' + ${user.id} +'.png'}"
						class="img-responsive center-block" /></td>
					<td th:text="${user.twitter}"></td>
					<td th:text="${user.facebook}"></td>
					<td th:text="${user.linkedin}"></td>
					<td th:if="${user.enabled}"><a th:href="@{/deleteUser(id=${user.id})}"><span
							th:text="Désactiver"></span></a></td>
					<td th:if="${!user.enabled}"><a th:href="@{/activateUser(id=${user.id})}"><span
							th:text="Activer"></span></a></td>
				</tr>
			</tbody>
		</table>
	</div>

	</main>
	<div th:replace="common/header :: body-bottom-scripts"></div>
	<script type="text/javascript">
		$(document).ready(
				function() {
					$("#usersTable").DataTable(
							{
								"lengthMenu" : [ [ 5, 10, 15, 20, -1 ],
										[ 5, 10, 15, 20, "All" ] ],
								"ordering" : true,
								stateSave : true,
								colReorder : true,
								responsive : true,
								buttons : [ 'copy', 'excel', 'pdf' ]
							});
				});
	</script>
</body>
</html>